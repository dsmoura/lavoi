<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich" >
	
	<h:panelGrid columns="1">
		<h:outputLabel value="#{ assetMB.wizardMB.testLabel }" styleClass="pageSubtitle" />
		<h:outputLabel value="Metadata and Artifacts about tests and quality assurance of the asset"
									styleClass="helpFont" />
		<h:outputLabel value="All fields have optional filling"
									styleClass="helpFont" />
	</h:panelGrid>
	
	<p/>
	
	<h:panelGrid columns="2" >
		<h:outputLabel value="Test Type:" styleClass="fieldFont" />
		<h:outputLabel value="You can add multiple test types."
											styleClass="helpFont" />
	</h:panelGrid>
	<h:dataTable id="testTypeTable"
						value="#{ assetMB.testMB.DTO.testTypeDTOs }"
						var="testTypeDTO"
						styleClass="datatable"
		    			headerClass="datatableHeader"
		    			rowClasses="datatableOddRow,datatableEvenRow" >

		<h:column>
			<f:facet name="header">
				<h:panelGrid columns="1">
					<h:selectOneMenu value="#{ assetMB.testMB.testTypeDTOAux }" >
						<f:selectItems value="#{ listMB.testTypeDTOList }" />
						<f:converter converterId="JavaBeanConverter" />
					</h:selectOneMenu>
				</h:panelGrid>
			</f:facet>
			<h:outputText value="#{ testTypeDTO.name }" />
		</h:column>
		
		<h:column>
			<f:facet name="header">
				<a4j:commandButton value="Add"
											action="#{ assetMB.testMB.addTestType }"
											reRender="testTypeTable" >
				</a4j:commandButton>
			</f:facet>
			<a4j:commandButton value="Remove"
										action="#{ assetMB.testMB.removeTestType }"
										reRender="testTypeTable" >
				<a4j:actionparam name="testTypePkToRemove"
										value="#{ testTypeDTO.testtypePk }" />
			</a4j:commandButton>
		</h:column>

	</h:dataTable>
	
	<p/>
	
	<h:panelGrid columns="2" >
		<h:outputLabel value="Test Method Type:" styleClass="fieldFont" />
		<h:outputLabel value="You can add multiple test method types."
											styleClass="helpFont" />
	</h:panelGrid>
	<h:dataTable id="testMethodTypeTable"
						value="#{ assetMB.testMB.DTO.testMethodTypeDTOs }"
						var="testMethodTypeDTO"
						styleClass="datatable"
		    			headerClass="datatableHeader"
		    			rowClasses="datatableOddRow,datatableEvenRow" >

		<h:column>
			<f:facet name="header">
				<h:panelGrid columns="1">
					<h:selectOneMenu value="#{ assetMB.testMB.testMethodTypeDTOAux }" >
						<f:selectItems value="#{ listMB.testMethodTypeDTOList }" />
						<f:converter converterId="JavaBeanConverter" />
					</h:selectOneMenu>
				</h:panelGrid>
			</f:facet>
			<h:outputText value="#{ testMethodTypeDTO.name }" />
		</h:column>
		
		<h:column>
			<f:facet name="header">
				<a4j:commandButton value="Add"
											action="#{ assetMB.testMB.addTestMethodType }"
											reRender="testMethodTypeTable" >
				</a4j:commandButton>
			</f:facet>
			<a4j:commandButton value="Remove"
										action="#{ assetMB.testMB.removeTestMethodType }"
										reRender="testMethodTypeTable" >
				<a4j:actionparam name="testMethodTypePkToRemove"
										value="#{ testMethodTypeDTO.testmethodtypePk }" />
			</a4j:commandButton>
		</h:column>

	</h:dataTable>
	
	<p/>

	<h:panelGrid columns="2" >
		<h:outputLabel value="Programming Languages:" styleClass="fieldFont" />
		<h:outputLabel value="You can add multiple test programming languages."
											styleClass="helpFont" />
	</h:panelGrid>
	<h:dataTable id="programmingLanguagesTestTable"
						value="#{ assetMB.testMB.DTO.programmingLanguageDTOs }"
						var="programmingLanguageDTO"
						styleClass="datatable"
		    			headerClass="datatableHeader"
		    			rowClasses="datatableOddRow,datatableEvenRow" >

		<h:column>
			<f:facet name="header">
				<h:panelGrid columns="1">
					<h:selectOneMenu value="#{ assetMB.testMB.programmingLanguageDTOAux }" >
						<f:selectItems value="#{ listMB.programmingLanguageDTOList }" />
						<f:converter converterId="JavaBeanConverter" />
					</h:selectOneMenu>
				</h:panelGrid>
			</f:facet>
			<h:outputText value="#{ programmingLanguageDTO.name }" />
			<h:panelGrid columns="1"
								rendered="#{ programmingLanguageDTO.name == 'Other' }" >
				<h:inputText id="otherProgrammingLanguageNameID"
									value="#{ assetMB.testMB.DTO.otherProgrammingLanguage }"
									size="40"
									required="true"
									requiredMessage="Enter the Other Programming Language." />
				<h:message for="otherProgrammingLanguageNameID"
								styleClass="errorTextClass" />
			</h:panelGrid>
		</h:column>
		
		<h:column>
			<f:facet name="header">
				<a4j:commandButton value="Add"
											action="#{ assetMB.testMB.addProgrammingLanguage }"
											reRender="programmingLanguagesTestTable" >
				</a4j:commandButton>
			</f:facet>
			<a4j:commandButton value="Remove"
										action="#{ assetMB.testMB.removeProgrammingLanguage }"
										reRender="programmingLanguagesTestTable" >
				<a4j:actionparam name="programmingLanguagePkToRemove"
										value="#{ programmingLanguageDTO.programminglanguagePk }" />
			</a4j:commandButton>
		</h:column>

	</h:dataTable>
	
	<p/>

	<ui:include src="./artifact.xhtml">
		<ui:param name="artifactMB"
						value="#{ assetMB.testMB.sourceCodeMB }" />
	</ui:include>
	
	<p/>

	<ui:include src="./artifact.xhtml">
		<ui:param name="artifactMB"
						value="#{ assetMB.testMB.artifactMB }" />
	</ui:include>
	
</html>
